"use strict";angular.module("pacApp",["ngCookies","ngSanitize","vegaModule"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("pacApp").controller("MainCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("vegaModule",[]).service("vega",function(){return window.vg}).service("vegaBarSpec",function(){return{width:400,height:200,padding:{top:10,left:30,bottom:30,right:10},data:[{name:"table"}],scales:[{name:"x",type:"ordinal",range:"width",domain:{data:"table",field:"data.x"}},{name:"y",range:"height",nice:!0,domain:{data:"table",field:"data.y"}}],axes:[{type:"x",scale:"x",properties:{axis:{strokeWidth:{value:0}},majorTicks:{strokeWidth:{value:0}},labels:{fill:{value:"#FFF"},fontSize:{value:14},align:{value:"center"},dx:{value:0}}}}],marks:[{type:"rect",from:{data:"table"},properties:{enter:{x:{scale:"x",field:"data.x",offset:20},width:{value:60},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0}},update:{fill:{value:"#FFF"}},hover:{fill:{value:"#FFF"}}}}]}}).directive("vegaChart",["vega",function(a){return{restrict:"A",scope:{data:"=",spec:"="},link:function(b,c){b.$watch("spec",function(d){d&&a.parse.spec(d,function(a){a({el:c[0],data:b.data.table}).update()})})}}}]),angular.module("pacApp").directive("pacEstagioInvestimentos",["vega",function(a){return{replace:!0,restrict:"A",link:function(b,c){function d(){f=parseInt(c.css("width").replace("px",""),10);for(var b={table:[{color:"#A085C6",estagio:"Em Licitação",total:120},{color:"#EB585C",estagio:"Ação Preparatória",total:310},{color:"#FF8FB4",estagio:"A Celecionar",total:450},{color:"#68D286",estagio:"A Contratar",total:890},{color:"#FDD26D",estagio:"Concluído",total:1902},{color:"#1DA1CD",estagio:"Em Andamento",total:2e3}]},d=[],h=[],i=0;i<b.table.length;i++)d.push(b.table[i].estagio+" :  "+b.table[i].total),h.push(b.table[i].color);var j={width:f,height:g,padding:{top:10,left:10,bottom:10,right:10},data:[{name:"table",transform:[{type:"pie",value:"data.total"}]}],scales:[{name:"r",type:"sqrt",domain:{data:"table",field:"data.total"},range:[130,180]},{name:"size",type:"linear",sort:!0,domain:{data:"table",field:"data.total"},range:[100,1e3]},{name:"estagios",type:"ordinal",sort:!0,domain:{data:"table",field:"data.total"},range:d},{name:"color",type:"ordinal",sort:!0,domain:{data:"table",field:"data.total"},range:h}],legends:[{size:"size",fill:"color",orient:"left",properties:{title:{fontSize:{value:16}},symbols:{stroke:{value:"transparent"},shape:{value:"square"}},labels:{fill:{value:"#656567"},fontSize:{value:16},fontFamily:{value:"Helvetica"},text:{scale:"estagios"}},legend:{padding:{value:10},stroke:{value:"#ccc"},strokeWidth:{value:0},x:{value:0},y:{value:10}}}}],marks:[{type:"arc",from:{data:"table"},properties:{enter:{x:{group:"width",mult:.7},y:{group:"height",mult:.5},startAngle:{field:"startAngle"},endAngle:{field:"endAngle"},innerRadius:{value:80},outerRadius:{scale:"r",field:"data.total"},fill:{field:"data.color"},stroke:{value:"white"},strokeWidth:{value:2}}}}]};a.parse.spec(j,function(a){e=a({el:c[0],data:b}).update()})}var e,f,g=350;d(),angular.element(window).on("resize",d)}}}]),angular.module("pacApp").directive("pacEvolucaoInvestimentos",["vega",function(a){return{replace:!0,restrict:"A",link:function(b,c){function d(){f=parseInt(c.css("width").replace("px",""),10);var b={table:[{x:"2007",y:10},{x:"2008",y:50},{x:"2009",y:52},{x:"2010",y:60},{x:"2011",y:74},{x:"2012",y:90},{x:"2013",y:110}]},d={width:f,height:g,padding:{top:10,left:-10,bottom:30,right:20},data:[{name:"table"}],scales:[{name:"x",type:"ordinal",points:!0,padding:1.5,range:"width",domain:{data:"table",field:"data.x"}},{name:"y",type:"linear",range:"height",nice:!0,zero:!0,domain:{data:"table",field:"data.y"}}],axes:[{type:"x",scale:"x",grid:!0,properties:{axis:{strokeWidth:{value:0}},grid:{stroke:{value:"white"}},majorTicks:{strokeWidth:{value:0}},labels:{fill:{value:"white"},fontSize:{value:14}}}},{type:"y",scale:"y",offset:-50,ticks:3,orient:"right",properties:{axis:{stroke:{value:"white"},strokeWidth:{value:0}},majorTicks:{strokeWidth:{value:0}},labels:{fill:{value:"white"},fontSize:{value:14}}}}],marks:[{type:"area",from:{data:"table"},properties:{enter:{interpolate:{value:"monotone"},x:{scale:"x",field:"data.x"},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0},fill:{value:"white"},fillOpacity:{value:.3}}}},{type:"symbol",from:{data:"table"},properties:{enter:{shape:{value:"circle"},size:{value:50},x:{scale:"x",field:"data.x"},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0},fill:{value:"white"}}}},{type:"line",from:{data:"table"},properties:{enter:{interpolate:{value:"monotone"},x:{scale:"x",field:"data.x"},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0},stroke:{value:"white"},strokeWidth:{value:2}}}}]};a.parse.spec(d,function(a){e=a({el:c[0],data:b}).update()})}var e,f,g=200;d(),angular.element(window).on("resize",d)}}}]),angular.module("pacApp").directive("pacDistribuicaoInvestimentos",["vega",function(a){return{replace:!0,restrict:"A",link:function(b,c){function d(){f=parseInt(c.css("width").replace("px",""),10);var b={table:[{x:"1500 SP",y:100},{x:"1500 RJ",y:80},{x:"1500 MG",y:60},{x:"1500 ES",y:40}]},d={width:f,height:g,padding:{top:10,left:0,bottom:30,right:0},data:[{name:"table"}],scales:[{name:"x",type:"ordinal",range:"width",domain:{data:"table",field:"data.x"}},{name:"y",range:"height",nice:!0,domain:{data:"table",field:"data.y"}}],axes:[{type:"x",scale:"x",properties:{axis:{strokeWidth:{value:0}},majorTicks:{strokeWidth:{value:0}},labels:{fill:{value:"#FFF"},fontSize:{value:14},align:{value:"center"}}}}],marks:[{type:"rect",from:{data:"table"},properties:{enter:{x:{scale:"x",field:"data.x",offset:30},y:{scale:"y",field:"data.y"},y2:{scale:"y",value:0},fill:{value:"#fff"},width:{scale:"x",band:!0,offset:-60}}}}]};a.parse.spec(d,function(a){e=a({el:c[0],data:b}).update()})}var e,f,g=200;d(),angular.element(window).on("resize",d)}}}]);